(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{111:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIjSURBVFhH1de7axVBGMbhE2+FF7QQKztBiaUJmE7RwjKVWqSSEJA0ioWFRQoTvDSCYqFoIXYGFTV/QEilRdIpmmipgghqDLkIXvJ7JQuze96ZvYQUeeFplm9mT3Znvp201mM6cRrncAVD6McJbMOaZC+uYQb/EhbxAifRgVVnJ65iAe6GKVM4isY5gGm4yav6i8uo/TSO4DvcpE08wRZUyn78gJvI+YPfhWvOHZRmB97DTeDchcZsxY2VaylnkYwWnBvofMNGZNF7/ghXm5nFHthoq9VZ7foBm5BlA8p+gNyCzXW4ASn3sAt6DTdXrpX5BY1py2q2nLabux7Th1zUXl1hirrefOFaVY+Qyym4wqIvUO8/iGwBqmd8hquPeYdczsMVFj3HJZxBmAG4+pifyEVfNVeYor2f5ThcTUo4/v9jdUUx6pRh9Dl2dTHqnGEPqT3BGMI8gKuL+YRcdJhwhTGDyKIOqMXp6mJeIZftqNMF9yHLIbiaFH2i26KTjCsu+oAwF+HqUrrRlqq94CnCPISri3kDe0DRxUm4QaFnCHMBX1FlrPQimmMo6+tqIjq0hNGWUnNy9aEJlEYLxA0OzeE+hqFXoG3l6kJq1/rkl0av4jHcJE0t4TAqZzN0hnOT1aW/vAeNojOcHrebuIpxVHrsqezGbegk427ivEZytTeJjlE6yYziLbQbdDN9WLQIX2IEXbD7fC2if0ZzX7V1llZrGbiiQg3sYMIOAAAAAElFTkSuQmCC"},126:function(e,a,t){"use strict";t.r(a);var l=t(12),n=t(13),r=t(16),o=t(14),c=t(15),s=t(55),i=t(0),m=t.n(i),p=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(r.a)(this,Object(o.a)(a).call(this))).state={id:null,book:null},e}return Object(c.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=this.props.book;return m.a.createElement("div",{className:"thisBlock halfBlock"},m.a.createElement("div",{className:"blockTitle"},"Book Info"),m.a.createElement("div",{className:"blockBody custom"},m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Name"),m.a.createElement("label",null,e.name||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"ISBN"),m.a.createElement("label",null,e.isbn||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Author"),m.a.createElement("label",null,e.author||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Publisher"),m.a.createElement("label",null,e.publisher||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Edition"),m.a.createElement("label",null,e.edition||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Copyright Year"),m.a.createElement("label",null,e.copyrightyear||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Print Year"),m.a.createElement("label",null,e.printyear||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Volume"),m.a.createElement("label",null,e.volume||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Stack No."),m.a.createElement("label",null,e.stackno||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Accession No."),m.a.createElement("label",null,e.accessionno||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Pages"),m.a.createElement("label",null,e.pages||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Total Copies"),m.a.createElement("label",null,e.totalcopies||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Available Copies"),m.a.createElement("label",null,e.availablecopies||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Type"),m.a.createElement("label",null,e.type||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Price"),m.a.createElement("label",null,e.price||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Additionals"),m.a.createElement("label",null,e.additionals||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"UID"),m.a.createElement("label",null,e.id||"-")),m.a.createElement("div",{className:"infoDisplay"},m.a.createElement("label",null,"Issued Copies"),m.a.createElement("label",null,e.totalcopies-e.availablecopies||"-"))))}}]),a}(m.a.Component),u=(t(64),t(59)),h=(t(111),function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(r.a)(this,Object(o.a)(a).call(this))).state={id:null,book:null,bookHistory:[]},e}return Object(c.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e,a,t=this,l="",n="";if(this.props.bookHistory&&this.props.bookHistory.length>0){m.a.createElement("div",{style:{marginLeft:"20px"}},"-");l=this.props.bookHistory.map(function(l){if(l.return){e=l.studentid,a=t.props.students.find(function(a){return a.id==e});m.a.createElement("div",{style:{marginLeft:"20px"}},"-");return m.a.createElement("tr",{key:l.id,className:"tableRow",style:{fontSize:"0.9em"}},m.a.createElement("td",{className:""},m.a.createElement(u.a,{to:"/student/"+a.id,draggable:"false",className:""},a.name)),m.a.createElement("td",{className:""},a.roll&&a.roll||"-"),m.a.createElement("td",{className:""},a.year&&a.year||"-"),m.a.createElement("td",{className:"",style:{whiteSpace:"pre-wrap"}},l.issue&&new Date(Date.parse(l.issue)).toDateString()+"\n"+new Date(Date.parse(l.issue)).toLocaleTimeString()||"-"),m.a.createElement("td",{className:"",style:{whiteSpace:"pre-wrap"}},l.return&&new Date(Date.parse(l.return)).toDateString()+"\n"+new Date(Date.parse(l.return)).toLocaleTimeString()||"-"),m.a.createElement("td",{className:"Nill"!=l.fine?"redtxt":null},l.fine&&l.fine||"-"))}}),n=this.props.bookHistory.map(function(l){if(!l.return){e=l.studentid,a=t.props.students.find(function(a){return a.id==e});m.a.createElement("div",{style:{marginLeft:"20px"}},"-");return m.a.createElement("tr",{key:l.id,className:"tableRow",style:{fontSize:"0.9em"}},m.a.createElement("td",{className:""},m.a.createElement(u.a,{to:"/student/"+a.id,draggable:"false",className:""},a.name)),m.a.createElement("td",{className:""},a.roll&&a.roll||"-"),m.a.createElement("td",{className:""},a.year&&a.year||"-"),m.a.createElement("td",{className:"",style:{whiteSpace:"pre-wrap"}},l.issue&&new Date(Date.parse(l.issue)).toDateString()+"\n"+new Date(Date.parse(l.issue)).toLocaleTimeString()||"-"))}})}else l=m.a.createElement("tr",{key:"nodata"},m.a.createElement("td",{className:"noData",colSpan:"6"},"No Transaction here!!")),n=m.a.createElement("tr",{key:"nodata"},m.a.createElement("td",{className:"noData",colSpan:"6"},"No Transaction here!!"));return m.a.createElement("div",{className:"thisBlock halfBlock"},m.a.createElement("div",{className:"blockTitle",style:{fontSize:"1.3vw"}},"Currently Issued"),m.a.createElement("div",{className:"pageRow",id:"booksBlock",style:{}},m.a.createElement("div",{className:"thisBlock"},m.a.createElement("div",{className:"blockBody"},m.a.createElement("div",{className:"thisTable",style:{height:"35vh"}},m.a.createElement("div",{className:"tbl-header"},m.a.createElement("table",null,m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{className:""},"Name"),m.a.createElement("th",{className:""},"Roll"),m.a.createElement("th",{className:""},"Year"),m.a.createElement("th",{className:""},"Issued"))))),m.a.createElement("div",{className:"tbl-content"},m.a.createElement("table",null,m.a.createElement("tbody",null,n))))))),m.a.createElement("div",{style:{height:"2px",background:"#d4d4d5"}}),m.a.createElement("div",{className:"blockTitle",style:{fontSize:"1.3vw"}},"Transaction History"),m.a.createElement("div",{className:"pageRow",id:"booksBlock"},m.a.createElement("div",{className:"thisBlock"},m.a.createElement("div",{className:"blockBody"},m.a.createElement("div",{className:"thisTable",style:{height:"35vh"}},m.a.createElement("div",{className:"tbl-header"},m.a.createElement("table",null,m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{className:""},"Name"),m.a.createElement("th",{className:""},"Roll"),m.a.createElement("th",{className:""},"Year"),m.a.createElement("th",{className:""},"Issued"),m.a.createElement("th",{className:""},"Return"),m.a.createElement("th",{className:""},"Fine"))))),m.a.createElement("div",{className:"tbl-content"},m.a.createElement("table",null,m.a.createElement("tbody",null,l))))))))}}]),a}(m.a.Component)),E=t(52),b=t(56);function y(){var e=Object(s.a)(["\n    display:inline;\n    margin-top: 0 auto;\n    border-color: red;\n\n"]);return y=function(){return e},e}t.d(a,"default",function(){return v});var f=Object(E.css)(y()),v=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(r.a)(this,Object(o.a)(a).call(this))).fetchBookbyID=function(a){a?fetch("https://stark-hamlet-65683.herokuapp.com/bookinfo/".concat(a),{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(a){a&&e.setState({book:a[0]})}):window.location.href=window.location.origin+"/books"},e.fetchBookFromHistory=function(a){a&&fetch("https://stark-hamlet-65683.herokuapp.com/issuereturn/".concat(a),{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(a){a&&e.setState({bookHistory:a})})},e.fetchAllStudents=function(){fetch("https://stark-hamlet-65683.herokuapp.com/students",{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(a){a&&e.setState({students:a})})},e.state={id:null,book:null,bookHistory:[],students:[],loading:!0},e}return Object(c.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=window.location.pathname;e=e.substring(e.lastIndexOf("/")+1),this.setState({id:e}),this.fetchBookbyID(e),this.fetchBookFromHistory(e),this.fetchAllStudents()}},{key:"render",value:function(){var e=this.state,a=e.book,t=e.bookHistory,l=e.students;return m.a.createElement("div",{className:"pageView"},a&&l.length>0?m.a.createElement("div",{className:"pageRow"},m.a.createElement(p,{book:a}),m.a.createElement(h,{bookHistory:t,students:l})):m.a.createElement("div",{className:"pageRow"},m.a.createElement("div",{style:{marginLeft:"50%",marginTop:"20%"}},m.a.createElement("div",{className:"sweet-loading"},m.a.createElement(b.ScaleLoader,{css:f,sizeUnit:"px",color:"#0099cc",size:60,height:35,width:8,radius:2,loading:this.state.loading})))))}}]),a}(m.a.Component)},59:function(e,a,t){"use strict";var l=t(0),n=t.n(l),r=t(1),o=t.n(r),c=t(5),s=t.n(c),i=t(18),m=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e};function p(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}var u=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},h=function(e){function a(){var t,l;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=l=p(this,e.call.apply(e,[this].concat(r))),l.handleClick=function(e){if(l.props.onClick&&l.props.onClick(e),!e.defaultPrevented&&0===e.button&&!l.props.target&&!u(e)){e.preventDefault();var a=l.context.router.history,t=l.props,n=t.replace,r=t.to;n?a.replace(r):a.push(r)}},p(l,t)}return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}(a,e),a.prototype.render=function(){var e=this.props,a=(e.replace,e.to),t=e.innerRef,l=function(e,a){var t={};for(var l in e)a.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t}(e,["replace","to","innerRef"]);s()(this.context.router,"You should not use <Link> outside a <Router>"),s()(void 0!==a,'You must specify the "to" property');var r=this.context.router.history,o="string"===typeof a?Object(i.b)(a,null,null,r.location):a,c=r.createHref(o);return n.a.createElement("a",m({},l,{onClick:this.handleClick,href:c,ref:t}))},a}(n.a.Component);h.propTypes={onClick:o.a.func,target:o.a.string,replace:o.a.bool,to:o.a.oneOfType([o.a.string,o.a.object]).isRequired,innerRef:o.a.oneOfType([o.a.string,o.a.func])},h.defaultProps={replace:!1},h.contextTypes={router:o.a.shape({history:o.a.shape({push:o.a.func.isRequired,replace:o.a.func.isRequired,createHref:o.a.func.isRequired}).isRequired}).isRequired},a.a=h},64:function(e,a,t){}}]);
//# sourceMappingURL=8.da29ad85.chunk.js.map