(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{125:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(13),s=a(16),c=a(14),r=a(15),i=a(55),m=a(0),o=a.n(m),u=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(s.a)(this,Object(c.a)(t).call(this))).state={id:null,student:null},e}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.student;return o.a.createElement("div",{className:"thisBlock halfBlock"},o.a.createElement("div",{className:"blockTitle"},"Student Info"),o.a.createElement("div",{className:"blockBody custom"},o.a.createElement("div",{className:"infoDisplay"},o.a.createElement("label",null,"Name"),o.a.createElement("label",null,e.name||"-")),o.a.createElement("div",{className:"infoDisplay"},o.a.createElement("label",null,"Roll"),o.a.createElement("label",null,e.roll||"-")),o.a.createElement("div",{className:"infoDisplay"},o.a.createElement("label",null,"Phone"),o.a.createElement("label",null,e.phone||"-")),o.a.createElement("div",{className:"infoDisplay"},o.a.createElement("label",null,"Year"),o.a.createElement("label",null,e.year||"-")),o.a.createElement("div",{className:"infoDisplay"},o.a.createElement("label",null,"Branch"),o.a.createElement("label",null,e.branch||"-")),o.a.createElement("div",{className:"infoDisplay"},o.a.createElement("label",null,"No. Of Issued Books"),o.a.createElement("label",null,e.issued||"-")),o.a.createElement("div",{className:"infoDisplay"},o.a.createElement("label",null,"Student UID"),o.a.createElement("label",null,e.id||"-"))))}}]),t}(o.a.Component),h=(a(65),function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(s.a)(this,Object(c.a)(t).call(this))).state={id:null,studentt:null,studentHistory:[]},e}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this,a={},n="",l="";if(this.props.studentHistory&&this.props.studentHistory.length>0){o.a.createElement("div",{style:{marginLeft:"20px"}},"-");n=this.props.studentHistory.map(function(n){if(n.return){e=n.bookid,a=t.props.books.find(function(t){return t.id==e});o.a.createElement("div",{style:{marginLeft:"20px"}},"-");if(a)return o.a.createElement("tr",{key:n.id,className:"tableRow",style:{fontSize:"0.9em"}},o.a.createElement("td",{className:""},a.name&&a.name||"-"),o.a.createElement("td",{className:""},a.isbn&&a.isbn||"-"),o.a.createElement("td",{className:""},a.author&&a.author||"-"),o.a.createElement("td",{className:""},a.edition&&a.edition||"-"),o.a.createElement("td",{className:"",style:{whiteSpace:"pre-wrap"}},n.issue&&new Date(Date.parse(n.issue)).toDateString()+"\n"+new Date(Date.parse(n.issue)).toLocaleTimeString()||"-"),o.a.createElement("td",{className:"",style:{whiteSpace:"pre-wrap"}},n.return&&new Date(Date.parse(n.return)).toDateString()+"\n"+new Date(Date.parse(n.return)).toLocaleTimeString()||"-"),o.a.createElement("td",{className:"Nill"!=n.fine?"redtxt":null},n.fine&&n.fine||"-"))}}),l=this.props.studentHistory.map(function(n){if(!n.return){e=n.bookid,a=t.props.books.find(function(t){return t.id==e});o.a.createElement("div",{style:{marginLeft:"20px"}},"-");if(a)return o.a.createElement("tr",{key:n.id,className:"tableRow",style:{fontSize:"0.9em"}},o.a.createElement("td",{className:""},a.name&&a.name||"-"),o.a.createElement("td",{className:""},a.isbn&&a.isbn||"-"),o.a.createElement("td",{className:""},a.author&&a.author||"-"),o.a.createElement("td",{className:""},a.edition&&a.edition||"-"),o.a.createElement("td",{className:"",style:{whiteSpace:"pre-wrap"}},n.issue&&new Date(Date.parse(n.issue)).toDateString()+"\n"+new Date(Date.parse(n.issue)).toLocaleTimeString()||"-"))}})}else n=o.a.createElement("tr",{key:"nodata"},o.a.createElement("td",{className:"noData",colSpan:"6"},"No Transaction here!!")),l=o.a.createElement("tr",{key:"nodata"},o.a.createElement("td",{className:"noData",colSpan:"6"},"No Transaction here!!"));return o.a.createElement("div",{className:"thisBlock halfBlock"},o.a.createElement("div",{className:"blockTitle",style:{fontSize:"1.3vw"}},"Currently Issued"),o.a.createElement("div",{className:"pageRow",id:"booksBlock",style:{}},o.a.createElement("div",{className:"thisBlock"},o.a.createElement("div",{className:"blockBody"},o.a.createElement("div",{className:"thisTable",style:{height:"35vh"}},o.a.createElement("div",{className:"tbl-header"},o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:""},"Name"),o.a.createElement("th",{className:""},"ISBN"),o.a.createElement("th",{className:""},"Author"),o.a.createElement("th",{className:""},"Edition"),o.a.createElement("th",{className:""},"Issued"))))),o.a.createElement("div",{className:"tbl-content"},o.a.createElement("table",null,o.a.createElement("tbody",null,l))))))),o.a.createElement("div",{style:{height:"2px",background:"#d4d4d5"}}),o.a.createElement("div",{className:"blockTitle",style:{fontSize:"1.3vw"}},"Transaction History"),o.a.createElement("div",{className:"pageRow",id:"booksBlock"},o.a.createElement("div",{className:"thisBlock"},o.a.createElement("div",{className:"blockBody"},o.a.createElement("div",{className:"thisTable",style:{height:"35vh"}},o.a.createElement("div",{className:"tbl-header"},o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:""},"Name"),o.a.createElement("th",{className:""},"ISBN"),o.a.createElement("th",{className:""},"Author"),o.a.createElement("th",{className:""},"Edition"),o.a.createElement("th",{className:""},"Issued"),o.a.createElement("th",{className:""},"Return"),o.a.createElement("th",{className:""},"Fine"))))),o.a.createElement("div",{className:"tbl-content"},o.a.createElement("table",null,o.a.createElement("tbody",null,n))))))))}}]),t}(o.a.Component)),d=a(52),E=a(56);function p(){var e=Object(i.a)(["\n    display:inline;\n    margin-top: 0 auto;\n    border-color: red;\n\n\n"]);return p=function(){return e},e}a.d(t,"default",function(){return y});var N=Object(d.css)(p()),y=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(s.a)(this,Object(c.a)(t).call(this))).fetchStudentbyID=function(t){t?fetch("https://stark-hamlet-65683.herokuapp.com/studentinfo/".concat(t),{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){t&&e.setState({student:t[0]})}):window.location.href=window.location.origin+"/students"},e.fetchStudentFromHistory=function(t){t&&fetch("https://stark-hamlet-65683.herokuapp.com/issuereturnstd/".concat(t),{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){t&&e.setState({studentHistory:t})})},e.fetchAllBooks=function(){fetch("https://stark-hamlet-65683.herokuapp.com/book",{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){t&&e.setState({books:t})})},e.state={id:null,student:null,studentHistory:[],books:[],loading:!0},e}return Object(r.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=window.location.pathname;e=e.substring(e.lastIndexOf("/")+1),this.setState({id:e}),this.fetchStudentbyID(e),this.fetchStudentFromHistory(e),this.fetchAllBooks()}},{key:"render",value:function(){var e=this.state,t=e.student,a=e.studentHistory,n=e.books;return o.a.createElement("div",{className:"pageView"},t&&n.length>0?o.a.createElement("div",{className:"pageRow"},o.a.createElement(u,{student:t}),o.a.createElement(h,{studentHistory:a,books:n})):o.a.createElement("div",{className:"pageRow"}," ",o.a.createElement("div",{style:{marginLeft:"50%",marginTop:"20%"}},o.a.createElement("div",{className:"sweet-loading"},o.a.createElement(E.ScaleLoader,{css:N,sizeUnit:"px",color:"#0099cc",size:60,height:35,width:8,radius:2,loading:this.state.loading})))))}}]),t}(o.a.Component)},65:function(e,t,a){}}]);
//# sourceMappingURL=9.2cf16afe.chunk.js.map