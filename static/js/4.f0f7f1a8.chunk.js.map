{"version":3,"sources":["components/home/List.js","components/home/Index.js"],"names":["override","css","_templateObject","List","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","searchstudent","event","s","target","value","setState","search","fetch","concat","method","headers","Content-Type","then","response","json","data","length","found","name","roll","branch","year","phone","id","issued","returnBook","_this$state","state","bookid","studentid","fine","body","JSON","stringify","toast","info","position","POSITION","BOTTOM_RIGHT","closeOnClick","pauseOnHover","autoClose","draggable","hideProgressBar","hideModal","props","fetchBooks","studentname","itemList","_this2","wid","books","react_default","a","createElement","style","marginLeft","map","item","return","key","className","fontSize","bookname","isbn","author","edition","publisher","whiteSpace","issue","Date","parse","toDateString","toLocaleTimeString","Link","to","onClick","Math","floor","showModal","fetched","colSpan","react_spinners","sizeUnit","color","size","height","width","radius","loading","preventHide","placeholder","document","getElementById","close","e","stopPropagation","React","Component","Home","fetchAllBooks","bookList","filter","x","countBooks","total","count","countavlBooks","avl","countStudents","students","totalbookList","title","fontWeight","cursor","List_List"],"mappings":"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","file":"static/js/4.f0f7f1a8.chunk.js","sourcesContent":["import React from 'react';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { toast } from 'react-toastify';\t\r\nimport { css } from '@emotion/core';\r\nimport { ScaleLoader } from 'react-spinners';\r\n\r\n\r\nconst override = css`\r\n    display:inline;\r\n    margin-top: 0 auto;\r\n    border-color: red;\r\n\r\n`;\r\n\r\nexport default class List extends React.Component {\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch:'',\r\n            studentname:'',\r\n            roll:'',\r\n            branch: '',\r\n            year:'',\r\n            phone:'',\r\n            issued:'',\r\n            studentid:'',\r\n            found:false,\r\n            bookid:'',\r\n            fine:'',\r\n\r\n\t\t};\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n  searchstudent=(event)=>{\r\n  \tlet s=event.target.value\r\n  \tthis.setState({search:s},()=>{ fetch(`https://stark-hamlet-65683.herokuapp.com/students/${s}`,{\r\n      method: 'get',\r\n      headers: {'Content-Type': 'application/json'}\r\n  }).then(response=>response.json()).then(data=>{if(data&&data.length>0)this.setState({found:true,name:data[0].name,roll:data[0].roll,branch:data[0].branch,year:data[0].year,phone:data[0].phone,id:data[0].id,issued:data[0].issued})});\r\n})\r\n    \r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\tstatic showModal(){\r\n\t\tdocument.getElementById(\"returnBook\").showModal();\r\n\t}\r\n\tstatic hideModal(){\r\n\t\tdocument.getElementById(\"returnBook\").close();\r\n\t}\r\n\t\r\n\tstatic preventHide(e){\r\n\t\te.stopPropagation();\r\n\t}\r\n\r\n\r\n  returnBook=()=>{\r\n  \tlet {bookid,studentid}=this.state;\r\n  \tlet fine=this.state.fine>0?this.state.fine:'Nill';\r\n\r\nfetch('https://stark-hamlet-65683.herokuapp.com/bookreturn', {\r\n      method: 'post',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify({\r\n        bookid:bookid,\r\n        studentid:studentid,\r\n        fine:fine\r\n      })\r\n    }).then(response=>response.json()).then(data=>{\r\n    \ttoast.info(data, {\r\n                 position: toast.POSITION.BOTTOM_RIGHT,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                autoClose:3000,\r\n                draggable: true,\r\n                \r\n                hideProgressBar: false,\r\n                \r\n            });\r\n    \tList.hideModal();\r\n\tthis.props.fetchBooks();});\r\n\t\r\n  \t\r\n  }\r\n\r\n\r\n    /* eslint-disable no-unused-vars */\r\n\r\n\trender(){\r\n\t\tlet wid='20vw'\r\n\t\tlet itemList;\r\n\t\tif(this.props.books && this.props.books.length > 0){\r\n\r\n\t\t\tconst none=<div style={{\"marginLeft\":'20px'}}>-</div>\r\n\t\t\t\r\n\t\t\titemList = this.props.books.map((item)=>{\r\n\r\n\r\n\t\t\t\tif(!item.return)\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<tr key={item.id} className=\"tableRow\"style={{fontSize:'0.9em'}}>\r\n\t\t\t\t\t\t<td className=\"\" >{item.bookname}</td>\r\n\t\t\t\t\t\t<td className=\"\">{item.isbn ? (item.isbn|| '-') : '-'}</td>\r\n\t\t\t\t\t\t<td className=\"\">{item.author ? (item.author || '-') : '-'}</td>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<td className=\"\">{item.edition ? (item.edition || '-') : '-'}</td>\r\n\t\t\t\t\t\t<td className=\"\">{item.publisher ? (item.publisher || '-') : '-'}</td>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<td className=\"\">{item.studentname ? (item.studentname || '-') : '-'}</td>\r\n\t\t\t\t\t\t<td className=\"\">{item.roll ? (item.roll || '-') : '-'}</td>\r\n\t\t\t\t\t\t<td className=\"\" style={{whiteSpace: 'pre-wrap'}}>{item.issue ? ((new Date(Date.parse(item.issue))).toDateString()+'\\n'+(new Date(Date.parse(item.issue))).toLocaleTimeString() || '-') : '-'}</td>\r\n\t\t\t\t\t\t<td className=\"\">\r\n\t\t\t\t\t\t<Link to={\"/book/\"+item.bookid} draggable=\"false\"  className=\"\">View Book</Link>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Link to={\"/student/\"+item.studentid} draggable=\"false\"  className=\"\">View Student</Link>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<a onClick={()=>{this.setState({bookid:item.bookid,studentid:item.studentid,studentname:item.studentname,roll:item.roll,bookname:item.bookname,author:item.author,publisher:item.publisher,edition:item.edition,isbn:item.isbn,fine:(Math.floor((Date.parse(new Date())-Date.parse(item.issue))/(60*60*24*1000))-15)},List.showModal())}}>Return</a>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\telse{\r\n\t\t\t\r\n\t\t\titemList = (!this.props.fetched)? <tr key=\"nodata\">\r\n\t\t\t\t\t\t\t<td className=\"noData\" colSpan=\"6\">\r\n\t\t\t\t\t\t\t <div className='sweet-loading'>\r\n\t\t\t\t\t        <ScaleLoader\r\n\t\t\t\t\t          css={override}\r\n\t\t\t\t\t          sizeUnit={\"px\"}\r\n\t\t\t\t\t          color={'#0099cc'}\r\n\t\t\t\t\t          size={60}\r\n\t\t\t\t\t          height={35}\r\n\t\t\t\t\t          width={8}\r\n\t\t\t\t\t          radius={2}\r\n\t\t\t\t\t          loading={this.state.loading}\r\n\t\t\t\t\t        />\r\n      \t\t\t\t\t\t</div> \r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t <tr key=\"nodata\">\r\n\t\t\t\t\t\t\t<td className=\"noData\" colSpan=\"6\">Currently, none of the Books are Issued!!</td>\r\n\t\t\t\t\t\t</tr>\r\n\r\n\t\t}\r\n\r\n\t\treturn(\r\n\t\t\t<div className=\"pageRow\" id=\"booksBlock2\">\r\n\t\t\t\t<div className=\"thisBlock\">\r\n\t\t\t\t\t<div className=\"blockBody\">\r\n\t\t\t\t\t\t<div className=\"thisTable\">\r\n\t\t\t\t\t\t\t<div className=\"tbl-header\">\r\n\t\t\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"\">ISBN</th>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"\">Author</th>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"\">Edition</th>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"\">Publisher</th>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"\">Student Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"\">Roll</th>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"\">Issued</th>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\" \">Info</th>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\" \">Action</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"tbl-content\">\r\n\t\t\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{itemList}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<dialog id=\"returnBook\" className=\"dialogBox\" onClick={List.hideModal} style={{width:'50vw'}}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dialogTitle\" onClick={List.preventHide}>\r\n\t\t\t\t\t\t\t\t\t\t\tReturn Book\r\n\t\t\t\t\t\t\t\t\t\t\t<button onClick={List.hideModal}>X</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"dialogBody\" onClick={List.preventHide} >\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{width:wid}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>Book Name</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input  name=\"search\" placeholder=\"Name\" value={this.state.bookname}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{width:wid}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>Author</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input  name=\"search\" placeholder=\"Name\" value={this.state.author}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{width:wid}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>Publisher</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input  name=\"search\" placeholder=\"Name\" value={this.state.publisher}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{width:wid}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>Edition</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input  name=\"search\" placeholder=\"Name\" value={this.state.edition}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{width:wid}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>Student Name</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input  name=\"Year\" placeholder=\"Year\" value={this.state.studentname}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{width:wid}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>Roll</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input name=\"Roll\" placeholder=\"Roll\" value={this.state.roll}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{width:wid}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className={this.state.fine>0?\"redtxt\":\"\"}>Fine Amount</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input name=\"Fine\" placeholder=\"Fine\" className=\"bold\" value={this.state.fine>0?'INR '+this.state.fine+'.00':'Nill'}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dialogFooter\" onClick={List.preventHide}>\r\n\t\t\t\t\t\t\t\t\t\t\t<button onClick={this.returnBook} >Return</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button onClick={List.hideModal}>Cancel</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</dialog>\r\n               \r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","import React from 'react';\r\nimport List from \"./List\";\r\nimport './style.css'\r\nexport default class Home extends React.Component{\r\n\r\n\t\r\n\r\nconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\r\n\t\t\tbookList:[],\r\n\t\t\ttotalbookList:[],\r\n\t\t\ttotal:'',\r\n\t\t\tissued:'',\r\n\t\t\tstudents:'',\r\n\t\t\tavl:'',\r\n\t\t\tfetched:false,\r\n\r\n\t\t};\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\nfetchAllBooks=()=>{\r\n\r\n}\r\n\r\n\r\nfetchBooks=()=>{\r\n\r\nfetch('https://stark-hamlet-65683.herokuapp.com/getissuereturn', {\r\n      method: 'get',\r\n      headers: {'Content-Type': 'application/json'}\r\n  }).then(response=>response.json()).then(data=>{if(data)this.setState({fetched:true,bookList:data,issued:data.filter(function(x){return !x.return}).length})})\r\n\r\n\r\n\r\n\r\n\t}\r\ncountBooks=()=>{\r\n\r\nfetch('https://stark-hamlet-65683.herokuapp.com/countbook', {\r\n      method: 'get',\r\n      headers: {'Content-Type': 'application/json'}\r\n  }).then(response=>response.json()).then(data=>{if(data)this.setState({total:data[0].count})})\r\n\r\n\r\n\r\n\r\n\t}\r\n\tcountavlBooks=()=>{\r\n\r\nfetch('https://stark-hamlet-65683.herokuapp.com/countavlbook', {\r\n      method: 'get',\r\n      headers: {'Content-Type': 'application/json'}\r\n  }).then(response=>response.json()).then(data=>{if(data)this.setState({avl:data[0].count})})\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n\r\n\tcountStudents=()=>{\r\n\r\nfetch('https://stark-hamlet-65683.herokuapp.com/countstudent', {\r\n      method: 'get',\r\n      headers: {'Content-Type': 'application/json'}\r\n  }).then(response=>response.json()).then(data=>{if(data)this.setState({students:data[0].count})})\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n\tcomponentDidMount(){\r\n\r\n\r\n\tthis.fetchBooks();\r\n\tthis.countBooks();\r\n\tthis.countavlBooks();\r\n\tthis.countStudents();\r\n}\r\n\r\n\r\n\r\n\r\n\trender(){\r\n\r\n\r\n\r\n\t\treturn(\r\n\t\t\t<div className=\"pageView\">\r\n\r\n\t\t\t\t<div className=\"pageRow\" style={{width:'40vw'}}>\r\n\t\t\t\t\t\t\t<div className=\"box\">\r\n\t\t\t\t\t\t\t\t<span className=\"boxTitle\" title=\"Total  Books\">Books</span>\r\n\t\t\t\t\t\t\t\t<span className=\"boxValue\" title=\"Total Books\">{this.state.total || 0}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"box\"><div className=\"separator\"> </div></div>\r\n\t\t\t\t\t\t\t<div className=\"box\">\r\n\t\t\t\t\t\t\t\t<span className=\"boxTitle\" title=\"Total number of issued Copies\">Issued</span>\r\n\t\t\t\t\t\t\t\t<span className=\"boxValue\" title=\"Total number of issued Copies\">{this.state.issued || 0}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"box\"><div className=\"separator\"> </div></div>\r\n\t\t\t\t\t\t\t<div className=\"box\">\r\n\t\t\t\t\t\t\t\t<span className=\"boxTitle\" title=\"Total number of Available Books\">Available</span>\r\n\t\t\t\t\t\t\t\t<span className=\"boxValue\" title=\"Total number of Available Books\">{this.state.avl || 0}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"box\"><div className=\"separator\"> </div></div>\r\n\t\t\t\t\t\t\t<div className=\"box\">\r\n\t\t\t\t\t\t\t\t<span className=\"boxTitle\" title=\"Total number of Registered Students\">Students</span>\r\n\t\t\t\t\t\t\t\t<span className=\"boxValue\" title=\"Total number of Registered Students\">{this.state.students || 0}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<div className=\"pageRow blockTitle\" style={{fontSize:'20px',color:'#707070',fontWeight:'500',marginLeft:'10px',cursor:'pointer',width:'40vw'}} title=\"Books Yet to Be Returned\">Currently Issued Books</div>\r\n\t\t\t\r\n\t\t\t<List fetchBooks={this.fetchBooks} books={this.state.bookList} fetched={this.state.fetched} />\r\n\t\t\t<div className=\"footer\">Made with &hearts; by Fahad Israr</div>\r\n\t\t\t</div>)\r\n\t}\r\n}"],"sourceRoot":""}