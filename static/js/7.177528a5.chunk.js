(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{19:function(e,a,t){"use strict";var l=t(0),n=t.n(l),r=t(1),o=t.n(r),c=t(5),s=t.n(c),i=t(18),m=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e};function p(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}var u=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},h=function(e){function a(){var t,l;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=l=p(this,e.call.apply(e,[this].concat(r))),l.handleClick=function(e){if(l.props.onClick&&l.props.onClick(e),!e.defaultPrevented&&0===e.button&&!l.props.target&&!u(e)){e.preventDefault();var a=l.context.router.history,t=l.props,n=t.replace,r=t.to;n?a.replace(r):a.push(r)}},p(l,t)}return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}(a,e),a.prototype.render=function(){var e=this.props,a=(e.replace,e.to),t=e.innerRef,l=function(e,a){var t={};for(var l in e)a.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t}(e,["replace","to","innerRef"]);s()(this.context.router,"You should not use <Link> outside a <Router>"),s()(void 0!==a,'You must specify the "to" property');var r=this.context.router.history,o="string"===typeof a?Object(i.b)(a,null,null,r.location):a,c=r.createHref(o);return n.a.createElement("a",m({},l,{onClick:this.handleClick,href:c,ref:t}))},a}(n.a.Component);h.propTypes={onClick:o.a.func,target:o.a.string,replace:o.a.bool,to:o.a.oneOfType([o.a.string,o.a.object]).isRequired,innerRef:o.a.oneOfType([o.a.string,o.a.func])},h.defaultProps={replace:!1},h.contextTypes={router:o.a.shape({history:o.a.shape({push:o.a.func.isRequired,replace:o.a.func.isRequired,createHref:o.a.func.isRequired}).isRequired}).isRequired},a.a=h},55:function(e,a,t){},76:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIjSURBVFhH1de7axVBGMbhE2+FF7QQKztBiaUJmE7RwjKVWqSSEJA0ioWFRQoTvDSCYqFoIXYGFTV/QEilRdIpmmipgghqDLkIXvJ7JQuze96ZvYQUeeFplm9mT3Znvp201mM6cRrncAVD6McJbMOaZC+uYQb/EhbxAifRgVVnJ65iAe6GKVM4isY5gGm4yav6i8uo/TSO4DvcpE08wRZUyn78gJvI+YPfhWvOHZRmB97DTeDchcZsxY2VaylnkYwWnBvofMNGZNF7/ghXm5nFHthoq9VZ7foBm5BlA8p+gNyCzXW4ASn3sAt6DTdXrpX5BY1py2q2nLabux7Th1zUXl1hirrefOFaVY+Qyym4wqIvUO8/iGwBqmd8hquPeYdczsMVFj3HJZxBmAG4+pifyEVfNVeYor2f5ThcTUo4/v9jdUUx6pRh9Dl2dTHqnGEPqT3BGMI8gKuL+YRcdJhwhTGDyKIOqMXp6mJeIZftqNMF9yHLIbiaFH2i26KTjCsu+oAwF+HqUrrRlqq94CnCPISri3kDe0DRxUm4QaFnCHMBX1FlrPQimmMo6+tqIjq0hNGWUnNy9aEJlEYLxA0OzeE+hqFXoG3l6kJq1/rkl0av4jHcJE0t4TAqZzN0hnOT1aW/vAeNojOcHrebuIpxVHrsqezGbegk427ivEZytTeJjlE6yYziLbQbdDN9WLQIX2IEXbD7fC2if0ZzX7V1llZrGbiiQg3sYMIOAAAAAElFTkSuQmCC"},93:function(e,a,t){"use strict";t.r(a);var l=t(12),n=t(13),r=t(16),o=t(14),c=t(15),s=t(0),i=t.n(s),m=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(r.a)(this,Object(o.a)(a).call(this))).state={id:null,book:null},e}return Object(c.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=this.props.book;return i.a.createElement("div",{className:"thisBlock halfBlock"},i.a.createElement("div",{className:"blockTitle"},"Book Info"),i.a.createElement("div",{className:"blockBody custom"},i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Name"),i.a.createElement("label",null,e.name||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"ISBN"),i.a.createElement("label",null,e.isbn||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Author"),i.a.createElement("label",null,e.author||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Publisher"),i.a.createElement("label",null,e.publisher||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Edition"),i.a.createElement("label",null,e.edition||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Copyright Year"),i.a.createElement("label",null,e.copyrightyear||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Print Year"),i.a.createElement("label",null,e.printyear||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Volume"),i.a.createElement("label",null,e.volume||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Stack No."),i.a.createElement("label",null,e.stackno||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Accession No."),i.a.createElement("label",null,e.accessionno||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Pages"),i.a.createElement("label",null,e.pages||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Total Copies"),i.a.createElement("label",null,e.totalcopies||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Available Copies"),i.a.createElement("label",null,e.availablecopies||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Type"),i.a.createElement("label",null,e.type||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Price"),i.a.createElement("label",null,e.price||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Additionals"),i.a.createElement("label",null,e.additionals||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"UID"),i.a.createElement("label",null,e.id||"-")),i.a.createElement("div",{className:"infoDisplay"},i.a.createElement("label",null,"Issued Copies"),i.a.createElement("label",null,e.totalcopies-e.availablecopies||"-"))))}}]),a}(i.a.Component),p=(t(55),t(19)),u=(t(76),function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(r.a)(this,Object(o.a)(a).call(this))).state={id:null,book:null,bookHistory:[]},e}return Object(c.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e,a,t=this,l="",n="";if(this.props.bookHistory&&this.props.bookHistory.length>0){i.a.createElement("div",{style:{marginLeft:"20px"}},"-");l=this.props.bookHistory.map(function(l){if(l.return){e=l.studentid,a=t.props.students.find(function(a){return a.id==e});i.a.createElement("div",{style:{marginLeft:"20px"}},"-");return i.a.createElement("tr",{key:l.id,className:"tableRow",style:{fontSize:"0.9em"}},i.a.createElement("td",{className:""},i.a.createElement(p.a,{to:"/student/"+a.id,draggable:"false",className:""},a.name)),i.a.createElement("td",{className:""},a.roll&&a.roll||"-"),i.a.createElement("td",{className:""},a.year&&a.year||"-"),i.a.createElement("td",{className:"",style:{whiteSpace:"pre-wrap"}},l.issue&&new Date(Date.parse(l.issue)).toDateString()+"\n"+new Date(Date.parse(l.issue)).toLocaleTimeString()||"-"),i.a.createElement("td",{className:"",style:{whiteSpace:"pre-wrap"}},l.return&&new Date(Date.parse(l.return)).toDateString()+"\n"+new Date(Date.parse(l.return)).toLocaleTimeString()||"-"),i.a.createElement("td",{className:"Nill"!=l.fine?"redtxt":null},l.fine&&l.fine||"-"))}}),n=this.props.bookHistory.map(function(l){if(!l.return){e=l.studentid,a=t.props.students.find(function(a){return a.id==e});i.a.createElement("div",{style:{marginLeft:"20px"}},"-");return i.a.createElement("tr",{key:l.id,className:"tableRow",style:{fontSize:"0.9em"}},i.a.createElement("td",{className:""},i.a.createElement(p.a,{to:"/student/"+a.id,draggable:"false",className:""},a.name)),i.a.createElement("td",{className:""},a.roll&&a.roll||"-"),i.a.createElement("td",{className:""},a.year&&a.year||"-"),i.a.createElement("td",{className:"",style:{whiteSpace:"pre-wrap"}},l.issue&&new Date(Date.parse(l.issue)).toDateString()+"\n"+new Date(Date.parse(l.issue)).toLocaleTimeString()||"-"))}})}else l=i.a.createElement("tr",{key:"nodata"},i.a.createElement("td",{className:"noData",colSpan:"6"},"No Transaction here!!")),n=i.a.createElement("tr",{key:"nodata"},i.a.createElement("td",{className:"noData",colSpan:"6"},"No Transaction here!!"));return i.a.createElement("div",{className:"thisBlock halfBlock"},i.a.createElement("div",{className:"blockTitle",style:{fontSize:"1.3vw"}},"Currently Issued"),i.a.createElement("div",{className:"pageRow",id:"booksBlock",style:{}},i.a.createElement("div",{className:"thisBlock"},i.a.createElement("div",{className:"blockBody"},i.a.createElement("div",{className:"thisTable",style:{height:"35vh"}},i.a.createElement("div",{className:"tbl-header"},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:""},"Name"),i.a.createElement("th",{className:""},"Roll"),i.a.createElement("th",{className:""},"Year"),i.a.createElement("th",{className:""},"Issued"))))),i.a.createElement("div",{className:"tbl-content"},i.a.createElement("table",null,i.a.createElement("tbody",null,n))))))),i.a.createElement("div",{style:{height:"2px",background:"#d4d4d5"}}),i.a.createElement("div",{className:"blockTitle",style:{fontSize:"1.3vw"}},"Transaction History"),i.a.createElement("div",{className:"pageRow",id:"booksBlock"},i.a.createElement("div",{className:"thisBlock"},i.a.createElement("div",{className:"blockBody"},i.a.createElement("div",{className:"thisTable",style:{height:"35vh"}},i.a.createElement("div",{className:"tbl-header"},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:""},"Name"),i.a.createElement("th",{className:""},"Roll"),i.a.createElement("th",{className:""},"Year"),i.a.createElement("th",{className:""},"Issued"),i.a.createElement("th",{className:""},"Return"),i.a.createElement("th",{className:""},"Fine"))))),i.a.createElement("div",{className:"tbl-content"},i.a.createElement("table",null,i.a.createElement("tbody",null,l))))))))}}]),a}(i.a.Component));t.d(a,"default",function(){return h});var h=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(r.a)(this,Object(o.a)(a).call(this))).fetchBookbyID=function(a){a?fetch("https://stark-hamlet-65683.herokuapp.com/bookinfo/".concat(a),{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(a){a&&e.setState({book:a[0]})}):window.location.href=window.location.origin+"/books"},e.fetchBookFromHistory=function(a){a&&fetch("https://stark-hamlet-65683.herokuapp.com/issuereturn/".concat(a),{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(a){a&&e.setState({bookHistory:a})})},e.fetchAllStudents=function(){fetch("https://stark-hamlet-65683.herokuapp.com/students",{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(a){a&&e.setState({students:a})})},e.state={id:null,book:null,bookHistory:[],students:[]},e}return Object(c.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=window.location.pathname;e=e.substring(e.lastIndexOf("/")+1),this.setState({id:e}),this.fetchBookbyID(e),this.fetchBookFromHistory(e),this.fetchAllStudents()}},{key:"render",value:function(){var e=this.state,a=e.book,t=e.bookHistory,l=e.students;return i.a.createElement("div",{className:"pageView"},a&&l.length>0?i.a.createElement("div",{className:"pageRow"},i.a.createElement(m,{book:a}),i.a.createElement(u,{bookHistory:t,students:l})):i.a.createElement("div",{className:"pageRow"},i.a.createElement("div",{className:"load"},"Ooops ! We dont have any book with that ID")))}}]),a}(i.a.Component)}}]);
//# sourceMappingURL=7.177528a5.chunk.js.map